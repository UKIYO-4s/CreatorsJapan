# MVPå®Ÿè£…è¨ˆç”»

**ä½œæˆæ—¥**: 2026å¹´1æœˆ12æ—¥
**è¦‹ç©å·¥æ•°**: 14æ—¥é–“
**ç›®æ¨™**: æ°¸ç¶šé‹ç”¨å¯èƒ½ãªæ¥­å‹™åŠ¹ç‡åŒ–ãƒãƒ¼ã‚¿ãƒ«ã®MVPå®Œæˆ

---

## å®Ÿè£…æ¦‚è¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MVPå®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   Phase 1: åŸºç›¤æ§‹ç¯‰          [Day 1-3]    â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚
â”‚   Phase 2: ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½     [Day 4-7]    â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘   â”‚
â”‚   Phase 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰     [Day 8-11]   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘   â”‚
â”‚   Phase 4: è‡ªå‹•åŒ–ãƒ»ä»•ä¸Šã’     [Day 12-14]  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Phase 1: åŸºç›¤æ§‹ç¯‰ï¼ˆDay 1-3ï¼‰

### Day 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

**ç›®æ¨™**: é–‹ç™ºç’°å¢ƒã®å®Œå…¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| ViteåˆæœŸåŒ– | `npm create vite@latest -- --template react-ts` | package.json |
| ä¾å­˜é–¢ä¿‚è¿½åŠ  | TanStack Query, React Router, Tailwind | package.json |
| Tailwindè¨­å®š | PostCSS, autoprefixer | tailwind.config.js |
| ESLint/Prettier | çµ±ä¸€ã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ« | .eslintrc, .prettierrc |
| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€  | src/components, src/pages, etc. | ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ |
| Cloudflare Pages | wrangler pages ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ | wrangler.toml |
| åˆå›ãƒ‡ãƒ—ãƒ­ã‚¤ | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒç¢ºèª | ãƒ‡ãƒ—ãƒ­ã‚¤URL |

**ã‚³ãƒãƒ³ãƒ‰ä¾‹:**
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
npm create vite@latest creators-japan-portal -- --template react-ts
cd creators-japan-portal

# ä¾å­˜é–¢ä¿‚
npm install @tanstack/react-query react-router-dom
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p

# Cloudflare
npm install -D wrangler
npx wrangler pages project create creators-japan-portal
```

---

### Day 2: èªè¨¼åŸºç›¤

**ç›®æ¨™**: Cloudflare Access + Workersèªè¨¼ã®å®Œæˆ

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| Accessè¨­å®š | Cloudflareãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã‚¢ãƒ—ãƒªä½œæˆ | Accessãƒãƒªã‚·ãƒ¼ |
| ãƒãƒªã‚·ãƒ¼è¨­å®š | admin/clientãƒ­ãƒ¼ãƒ«å®šç¾© | ã‚¢ã‚¯ã‚»ã‚¹ãƒ«ãƒ¼ãƒ« |
| JWTæ¤œè¨¼ | Workerså†…ã§CF-Access-JWTæ¤œè¨¼ | auth.ts |
| ãƒ­ãƒ¼ãƒ«åˆ¤å®š | ãƒ¡ãƒ¼ãƒ«ã‹ã‚‰ãƒ­ãƒ¼ãƒ«ç‰¹å®š | middleware |
| ä¿è­·ãƒ«ãƒ¼ãƒˆ | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ãƒ­ãƒ¼ãƒ«åˆ¥è¡¨ç¤º | ProtectedRoute.tsx |

**Workersèªè¨¼ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢:**
```typescript
// functions/middleware/auth.ts
import { Hono } from 'hono';

export const authMiddleware = async (c, next) => {
  const jwt = c.req.header('CF-Access-JWT-Assertion');
  if (!jwt) {
    return c.json({ error: 'AUTH_REQUIRED' }, 401);
  }

  // JWTæ¤œè¨¼ï¼ˆCloudflare Accesså…¬é–‹éµã§ï¼‰
  const payload = await verifyAccessJWT(jwt, c.env.CF_ACCESS_AUD);

  // ãƒ­ãƒ¼ãƒ«åˆ¤å®š
  const adminEmails = JSON.parse(c.env.ADMIN_EMAILS || '[]');
  c.set('user', {
    email: payload.email,
    role: adminEmails.includes(payload.email) ? 'admin' : 'client',
  });

  await next();
};
```

---

### Day 3: ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢åŸºç›¤

**ç›®æ¨™**: KV + D1ã®å®Œå…¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| KV Namespaceä½œæˆ | `wrangler kv:namespace create CACHE` | KV ID |
| D1ä½œæˆ | `wrangler d1 create portal-db` | D1 ID |
| ã‚¹ã‚­ãƒ¼ãƒé©ç”¨ | `wrangler d1 execute` | ãƒ†ãƒ¼ãƒ–ãƒ« |
| KVãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ | get/set/delete + TTLç®¡ç† | kv-cache.ts |
| D1ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ | å‹å®‰å…¨ã‚¯ã‚¨ãƒªãƒ˜ãƒ«ãƒ‘ãƒ¼ | db.ts |
| ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ | /api/health å®Ÿè£… | health.ts |

**wrangler.toml:**
```toml
name = "creators-japan-portal"
compatibility_date = "2024-01-01"

[[kv_namespaces]]
binding = "CACHE"
id = "xxxx"

[[d1_databases]]
binding = "DB"
database_name = "portal-db"
database_id = "xxxx"
```

**D1ã‚¹ã‚­ãƒ¼ãƒé©ç”¨:**
```bash
wrangler d1 execute portal-db --file=./schema.sql
```

---

## Phase 2: ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½ï¼ˆDay 4-7ï¼‰

### Day 4-5: è¨˜äº‹ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°

**ç›®æ¨™**: å…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã®è¨˜äº‹è‡ªå‹•å–å¾—

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| HTMLãƒ‘ãƒ¼ã‚µãƒ¼ | cheerio or HTMLRewriter | scraper.ts |
| OGPå–å¾— | meta ã‚¿ã‚°è§£æ | ogp.ts |
| è¨˜äº‹ãƒªã‚¹ãƒˆæŠ½å‡º | ã‚»ãƒ¬ã‚¯ã‚¿èª¿æ•´ï¼ˆå®Ÿã‚µã‚¤ãƒˆç¢ºèªå¿…é ˆï¼‰ | selectors.ts |
| ãƒãƒƒã‚·ãƒ¥è¨ˆç®— | SHA-256ã§å·®åˆ†æ¤œå‡º | hash.ts |
| KVé€£æº | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜ãƒ»å–å¾— | articles-cache.ts |
| APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | GET /api/articles/:site | [site].ts |

**ã‚µã‚¤ãƒˆæ§‹é€ èª¿æŸ»ãŒå¿…è¦:**
```
å¯¾è±¡:
- https://creators-jp.com/blog
- https://salon.creators-jp.com/blog

ç¢ºèªäº‹é …:
- è¨˜äº‹ä¸€è¦§ã®HTMLã‚»ãƒ¬ã‚¯ã‚¿
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³æœ‰ç„¡
- OGPã‚¿ã‚°ã®å½¢å¼
```

**ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯:**
```typescript
// workers/scraper.ts
export async function scrapeArticles(siteUrl: string): Promise<Article[]> {
  const response = await fetch(`${siteUrl}/blog`);
  const html = await response.text();

  // HTMLRewriter or cheerio ã§è§£æ
  const articles = parseArticleList(html);

  // å„è¨˜äº‹ã®OGPå–å¾—ï¼ˆä¸¦åˆ—ï¼‰
  const enriched = await Promise.all(
    articles.map(async (article) => {
      const og = await fetchOGP(article.url);
      return { ...article, ...og };
    })
  );

  return enriched;
}
```

---

### Day 6: GA4é€£æº

**ç›®æ¨™**: Google Analytics 4 Data APIã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿å–å¾—

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ | GCPã§ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ | credentials.json |
| JWTç”Ÿæˆ | ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§JWTç½²å | ga-auth.ts |
| APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | runReportå‘¼ã³å‡ºã— | ga-client.ts |
| ãƒ¬ãƒãƒ¼ãƒˆæ•´å½¢ | ç”Ÿãƒ‡ãƒ¼ã‚¿ã‚’GA4Reportå‹ã«å¤‰æ› | ga-transform.ts |
| KVé€£æº | 1æ™‚é–“TTLã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ | ga-cache.ts |
| APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | GET /api/ga/:site | [site].ts |

**GA4 APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**
```typescript
// workers/ga-client.ts
export async function fetchGA4Report(
  propertyId: string,
  startDate: string,
  endDate: string
): Promise<GA4Report> {
  const token = await getAccessToken(serviceAccountKey);

  const response = await fetch(
    `https://analyticsdata.googleapis.com/v1beta/properties/${propertyId}:runReport`,
    {
      method: 'POST',
      headers: {
        Authorization: `Bearer ${token}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        dateRanges: [{ startDate, endDate }],
        metrics: [
          { name: 'screenPageViews' },
          { name: 'activeUsers' },
          { name: 'newUsers' },
        ],
        dimensions: [{ name: 'date' }],
      }),
    }
  );

  return transformGA4Response(await response.json());
}
```

---

### Day 7: GSCé€£æº

**ç›®æ¨™**: Search Console APIã‹ã‚‰ã®æ¤œç´¢ãƒ‡ãƒ¼ã‚¿å–å¾—

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| APIæ¨©é™è¨­å®š | ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«æ¨©é™ä»˜ä¸ | GSCç®¡ç†ç”»é¢ |
| APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | searchanalytics.queryå‘¼ã³å‡ºã— | gsc-client.ts |
| ã‚¯ã‚¨ãƒªãƒ‡ãƒ¼ã‚¿å–å¾— | æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒ©ãƒ³ã‚­ãƒ³ã‚° | gsc-queries.ts |
| ãƒšãƒ¼ã‚¸ãƒ‡ãƒ¼ã‚¿å–å¾— | ãƒšãƒ¼ã‚¸åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | gsc-pages.ts |
| ãƒ¬ãƒãƒ¼ãƒˆæ•´å½¢ | GSCReportå‹ã«å¤‰æ› | gsc-transform.ts |
| APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | GET /api/gsc/:site | [site].ts |

**GSC APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**
```typescript
// workers/gsc-client.ts
export async function fetchGSCReport(
  siteUrl: string,
  startDate: string,
  endDate: string
): Promise<GSCReport> {
  const token = await getAccessToken(serviceAccountKey);

  // æ¤œç´¢ã‚¯ã‚¨ãƒª
  const queriesResponse = await fetch(
    `https://www.googleapis.com/webmasters/v3/sites/${encodeURIComponent(siteUrl)}/searchAnalytics/query`,
    {
      method: 'POST',
      headers: {
        Authorization: `Bearer ${token}`,
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        startDate,
        endDate,
        dimensions: ['query'],
        rowLimit: 50,
      }),
    }
  );

  return transformGSCResponse(await queriesResponse.json());
}
```

---

## Phase 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆDay 8-11ï¼‰

### Day 8-9: å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ç›®æ¨™**: å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆç¾¤

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| Layout | ã‚µã‚¤ãƒ‰ãƒãƒ¼ + ãƒ˜ãƒƒãƒ€ãƒ¼ + ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ | Layout.tsx |
| Sidebar | ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Sidebar.tsx |
| Card | çµ±è¨ˆã‚«ãƒ¼ãƒ‰ | Card.tsx |
| DataTable | ã‚½ãƒ¼ãƒˆãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ | DataTable.tsx |
| Chart | æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼ˆChart.jsï¼‰ | LineChart.tsx |
| Loading | ã‚¹ã‚±ãƒ«ãƒˆãƒ³ãƒ»ã‚¹ãƒ”ãƒŠãƒ¼ | Loading.tsx |
| ErrorBoundary | ã‚¨ãƒ©ãƒ¼è¡¨ç¤º | ErrorBoundary.tsx |
| TanStack Query | Providerè¨­å®š | QueryProvider.tsx |

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ:**
```
src/components/
â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ Layout.tsx
â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”œâ”€â”€ DataTable.tsx
â”‚   â”œâ”€â”€ LineChart.tsx
â”‚   â”œâ”€â”€ Loading.tsx
â”‚   â””â”€â”€ ErrorBoundary.tsx
â”œâ”€â”€ admin/
â”‚   â””â”€â”€ NotifyButton.tsx
â””â”€â”€ client/
    â””â”€â”€ (å°†æ¥ç”¨)
```

---

### Day 10: ç®¡ç†è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

**ç›®æ¨™**: ç®¡ç†è€…å‘ã‘å…¨æ©Ÿèƒ½ç”»é¢

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰4æš | AdminDashboard.tsx |
| è¨˜äº‹ä¸€è¦§ | ãƒ†ãƒ¼ãƒ–ãƒ« + ã‚µã‚¤ãƒˆåˆ‡æ›¿ | ArticleList.tsx |
| GAãƒ¬ãƒãƒ¼ãƒˆ | ã‚°ãƒ©ãƒ• + æ•°å€¤ | GAReport.tsx |
| GSCãƒ¬ãƒãƒ¼ãƒˆ | ã‚¯ã‚¨ãƒªãƒ»ãƒšãƒ¼ã‚¸ãƒ©ãƒ³ã‚­ãƒ³ã‚° | GSCReport.tsx |
| Discordé€šçŸ¥ | æ‰‹å‹•é€ä¿¡ãƒœã‚¿ãƒ³ | NotifyButton.tsx |
| ã‚µã‚¤ãƒˆåˆ‡æ›¿ | public/salon ã‚¿ãƒ– | SiteTabs.tsx |

**ç”»é¢æ§‹æˆ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Logo] Creators Japan Portal       [public â–¼] [User] â–¼    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                              â”‚
â”‚  Dashboard   â”‚   ğŸ“Š ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  ğŸ“ˆ GA       â”‚   [PV] [Users] [Articles] [Clicks]           â”‚
â”‚  ğŸ” GSC      â”‚                                              â”‚
â”‚  ğŸ“ è¨˜äº‹     â”‚   ğŸ“ˆ ã‚¢ã‚¯ã‚»ã‚¹æ¨ç§» [ã‚°ãƒ©ãƒ•]                     â”‚
â”‚  âš™ï¸ è¨­å®š     â”‚                                              â”‚
â”‚              â”‚   ğŸ“ æœ€æ–°è¨˜äº‹  ğŸ” æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰              â”‚
â”‚              â”‚   [ãƒ†ãƒ¼ãƒ–ãƒ«]   [ãƒ†ãƒ¼ãƒ–ãƒ«]                     â”‚
â”‚              â”‚                                              â”‚
â”‚              â”‚   [Discordé€šçŸ¥é€ä¿¡]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Day 11: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

**ç›®æ¨™**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘é–²è¦§å°‚ç”¨ç”»é¢

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | ã‚·ãƒ³ãƒ—ãƒ«ã‚µãƒãƒªãƒ¼ | ClientDashboard.tsx |
| è¨˜äº‹ä¸€è¦§ | èª­ã¿å–ã‚Šå°‚ç”¨ | ArticleList.tsx (å…±æœ‰) |
| GAãƒ¬ãƒãƒ¼ãƒˆ | ä¸»è¦æŒ‡æ¨™ã®ã¿ | GAReport.tsx (ç°¡æ˜“ç‰ˆ) |
| GSCãƒ¬ãƒãƒ¼ãƒˆ | ä¸»è¦æŒ‡æ¨™ã®ã¿ | GSCReport.tsx (ç°¡æ˜“ç‰ˆ) |
| ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– | ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ | Tailwindãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ |

**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”»é¢ã®é•ã„:**
```
ç®¡ç†è€…                    ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
å…¨æ©Ÿèƒ½ã‚¢ã‚¯ã‚»ã‚¹            é–²è¦§ã®ã¿
Discordé€šçŸ¥ãƒœã‚¿ãƒ³        âœ•ï¼ˆéè¡¨ç¤ºï¼‰
è¨­å®šãƒ¡ãƒ‹ãƒ¥ãƒ¼             âœ•ï¼ˆéè¡¨ç¤ºï¼‰
è©³ç´°ãƒ‡ãƒ¼ã‚¿               ã‚µãƒãƒªãƒ¼ã®ã¿
```

---

## Phase 4: è‡ªå‹•åŒ–ãƒ»ä»•ä¸Šã’ï¼ˆDay 12-14ï¼‰

### Day 12: Discordé€šçŸ¥

**ç›®æ¨™**: æœˆæ¬¡è‡ªå‹•é€šçŸ¥ + æ‰‹å‹•é€šçŸ¥

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| Webhookã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | Discord Embedå½¢å¼ | discord.ts |
| æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ | GA + GSC ã‚µãƒãƒªãƒ¼ | monthly-report.ts |
| æ‰‹å‹•é€ä¿¡API | POST /api/discord/notify | notify.ts |
| Cron Trigger | æ¯æœˆ1æ—¥ 09:00 JST | wrangler.toml |
| é€šçŸ¥ãƒ­ã‚°ä¿å­˜ | D1ã«è¨˜éŒ² | notification-log.ts |
| ãƒªãƒˆãƒ©ã‚¤å‡¦ç† | å¤±æ•—æ™‚ã®å†è©¦è¡Œ | retry.ts |

**Cronè¨­å®š:**
```toml
# wrangler.toml
[triggers]
crons = ["0 0 1 * *"]  # æ¯æœˆ1æ—¥ 00:00 UTC (09:00 JST)
```

**Discord Embed:**
```typescript
// workers/discord.ts
export async function sendMonthlyReport(
  webhookUrl: string,
  site: string,
  ga: GA4Report,
  gsc: GSCReport
) {
  const embed = {
    title: `ğŸ“Š ${formatMonth(ga.period)} æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆ`,
    description: `${site === 'public' ? 'å…¬å¼ã‚µã‚¤ãƒˆ' : 'ã‚µãƒ­ãƒ³ã‚µã‚¤ãƒˆ'}`,
    color: 0x3498db,
    fields: [
      { name: 'ğŸ“ˆ PV', value: ga.summary.pageViews.toLocaleString(), inline: true },
      { name: 'ğŸ‘¥ ãƒ¦ãƒ¼ã‚¶ãƒ¼', value: ga.summary.users.toLocaleString(), inline: true },
      { name: 'ğŸ” æ¤œç´¢ã‚¯ãƒªãƒƒã‚¯', value: gsc.summary.clicks.toLocaleString(), inline: true },
    ],
    timestamp: new Date().toISOString(),
  };

  await fetch(webhookUrl, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ embeds: [embed] }),
  });
}
```

---

### Day 13: æœˆæ¬¡ã‚µãƒãƒªãƒ¼ãƒ»å±¥æ­´

**ç›®æ¨™**: ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–ã¨å±¥æ­´è¡¨ç¤º

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| ã‚µãƒãƒªãƒ¼ä¿å­˜ | D1ã«æœˆæ¬¡ãƒ‡ãƒ¼ã‚¿ä¿å­˜ | save-summary.ts |
| å±¥æ­´å–å¾—API | GET /api/summaries/:site | summaries.ts |
| å‰æœˆæ¯”è¼ƒ | å¤‰åŒ–ç‡è¨ˆç®— | comparison.ts |
| å±¥æ­´ç”»é¢ | æœˆåˆ¥ä¸€è¦§è¡¨ç¤º | SummaryHistory.tsx |
| ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | CSVå‡ºåŠ›ï¼ˆå°†æ¥å¯¾å¿œæº–å‚™ï¼‰ | export.ts |

---

### Day 14: ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

**ç›®æ¨™**: æœ¬ç•ªç’°å¢ƒãƒªãƒªãƒ¼ã‚¹

| ã‚¿ã‚¹ã‚¯ | è©³ç´° | æˆæœç‰© |
|--------|------|--------|
| çµ±åˆãƒ†ã‚¹ãƒˆ | å…¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¢ºèª | ãƒ†ã‚¹ãƒˆçµæœ |
| ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ | å„ç¨®éšœå®³ã‚·ãƒŠãƒªã‚ª | ãƒ†ã‚¹ãƒˆçµæœ |
| æœ¬ç•ªSecrets | èªè¨¼æƒ…å ±è¨­å®š | wrangler secret |
| ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ | portal.creators-jp.com | DNSè¨­å®š |
| SSLè¨¼æ˜æ›¸ | Cloudflareè‡ªå‹• | ç¢ºèª |
| å‹•ä½œç¢ºèª | ç®¡ç†è€…ãƒ»ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸¡æ–¹ | ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ |
| ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆ | æ“ä½œæ‰‹é †æ›¸ | ãƒãƒ‹ãƒ¥ã‚¢ãƒ«.md |

**æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †:**
```bash
# Secretsè¨­å®š
wrangler secret put GOOGLE_SERVICE_ACCOUNT_KEY
wrangler secret put DISCORD_WEBHOOK_URL_PUBLIC
wrangler secret put DISCORD_WEBHOOK_URL_SALON

# ãƒ‡ãƒ—ãƒ­ã‚¤
npm run build
wrangler pages deploy dist

# ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š
# Cloudflareãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§è¨­å®š
```

---

## ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | å¯¾ç­– |
|--------|--------|------|
| ã‚µã‚¤ãƒˆæ§‹é€ å¤‰æ›´ | é«˜ | ã‚»ãƒ¬ã‚¯ã‚¿ã‚’è¨­å®šå¯èƒ½ã«ã€ç›£è¦–ã‚¢ãƒ©ãƒ¼ãƒˆ |
| GA4 APIåˆ¶é™ | ä¸­ | ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆæœ€é©åŒ– |
| èªè¨¼ãƒˆãƒ©ãƒ–ãƒ« | é«˜ | ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã®è‡ªå‹•æ›´æ–° |
| Cloudflareéšœå®³ | ä½ | çŠ¶æ³ã«å¿œã˜ãŸå¯¾å¿œï¼ˆã¾ã‚Œï¼‰ |

---

## äº‹å‰æº–å‚™ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å®Ÿè£…é–‹å§‹å‰ã«å¿…è¦ãªæƒ…å ±:

### è‡ªåˆ†ã§æº–å‚™ã§ãã‚‹ã‚‚ã®

- [ ] GCPãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆãƒ»ã‚­ãƒ¼å–å¾—
- [ ] ç®¡ç†è€…ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç¢ºå®š
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆportal.creators-jp.comç­‰ï¼‰

### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰å–å¾—ãŒå¿…è¦ãªã‚‚ã®

| é …ç›® | çŠ¶æ³ | å‚™è€ƒ |
|------|------|------|
| GA4 ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£IDï¼ˆå…¬å¼ã‚µã‚¤ãƒˆï¼‰ | è¦ç¢ºèª | creators-jp.com |
| GA4 ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£IDï¼ˆã‚µãƒ­ãƒ³ã‚µã‚¤ãƒˆï¼‰ | **è¦ç™ºè¡Œä¾é ¼** | salon.creators-jp.comï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç®¡ç†ï¼‰ |
| GA4 é–²è¦§è€…æ¨©é™ or ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¿½åŠ è¨±å¯ | è¦ä¾é ¼ | ä¸¡ã‚µã‚¤ãƒˆ |
| GSC ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ | è¦ä¾é ¼ | ä¸¡ã‚µã‚¤ãƒˆ |
| Discord Webhook URLï¼ˆå…¬å¼ã‚µã‚¤ãƒˆç”¨ï¼‰ | è¦ç¢ºèª | æŠ•ç¨¿å…ˆãƒãƒ£ãƒ³ãƒãƒ«æŒ‡å®š |
| Discord Webhook URLï¼ˆã‚µãƒ­ãƒ³ã‚µã‚¤ãƒˆç”¨ï¼‰ | è¦ç¢ºèª | æŠ•ç¨¿å…ˆãƒãƒ£ãƒ³ãƒãƒ«æŒ‡å®š |

### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¸ã®ä¾é ¼æ–‡ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```
ã€ãƒãƒ¼ã‚¿ãƒ«ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ã«å¿…è¦ãªæƒ…å ±ã®ãŠé¡˜ã„ã€‘

ä»¥ä¸‹ã®æƒ…å ±ãƒ»æ¨©é™ã‚’ã„ãŸã ã‘ã¾ã™ã§ã—ã‚‡ã†ã‹ã€‚

1. GA4ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ID
   - å…¬å¼ã‚µã‚¤ãƒˆï¼ˆcreators-jp.comï¼‰:
   - ã‚µãƒ­ãƒ³ã‚µã‚¤ãƒˆï¼ˆsalon.creators-jp.comï¼‰: â€»ç™ºè¡ŒãŒå¿…è¦ãªå ´åˆã¯ãŠçŸ¥ã‚‰ã›ãã ã•ã„

2. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ã®æ¨©é™ä»˜ä¸
   ä»¥ä¸‹ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ã€Œé–²è¦§è€…ã€æ¨©é™ã‚’ä»˜ä¸ã—ã¦ãã ã•ã„:
   [ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ¡ãƒ¼ãƒ«]@[project].iam.gserviceaccount.com

   - GA4: ç®¡ç† â†’ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã‚¢ã‚¯ã‚»ã‚¹ç®¡ç† â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ 
   - Search Console: è¨­å®š â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨æ¨©é™ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ 

3. Discord Webhook URL
   æœˆæ¬¡ãƒ¬ãƒãƒ¼ãƒˆã‚’è‡ªå‹•æŠ•ç¨¿ã™ã‚‹ãƒãƒ£ãƒ³ãƒãƒ«ã®Webhook URLã‚’ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚
   - å…¬å¼ã‚µã‚¤ãƒˆç”¨ãƒãƒ£ãƒ³ãƒãƒ«:
   - ã‚µãƒ­ãƒ³ã‚µã‚¤ãƒˆç”¨ãƒãƒ£ãƒ³ãƒãƒ«:
```

---

## æ”¹è¨‚å±¥æ­´

| æ—¥ä»˜ | å†…å®¹ |
|------|------|
| 2026/01/12 | åˆç‰ˆä½œæˆ |
